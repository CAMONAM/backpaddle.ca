<!DOCTYPE html>
<html>
<head>
    <title>Indy's First Solo Trip üêï - Backpaddle</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        #map { height: 100vh; width: 100%; }
        .header-bar {
            position: absolute; top: 0; left: 0; right: 0;
            background: linear-gradient(135deg, #1a472a 0%, #2d5a3f 100%);
            color: white; padding: 10px 15px; z-index: 1000;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .header-bar a { color: white; text-decoration: none; }
        .header-bar h1 { font-size: 1rem; font-weight: 500; }
        .info-panel {
            position: absolute; bottom: 0; left: 0; right: 0;
            background: white; border-radius: 16px 16px 0 0;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.15); z-index: 1000;
            max-height: 50vh; transition: transform 0.3s ease;
        }
        .info-panel.collapsed { transform: translateY(calc(100% - 50px)); }
        .panel-handle { width: 40px; height: 4px; background: #ccc; border-radius: 2px; margin: 10px auto; cursor: pointer; }
        .panel-header { display: flex; justify-content: space-between; align-items: center; padding: 0 15px 10px; border-bottom: 1px solid #eee; }
        .panel-header h2 { font-size: 15px; color: #333; }
        .toggle-btn { background: none; border: none; font-size: 20px; cursor: pointer; }
        .panel-content { padding: 15px; overflow-y: auto; max-height: calc(50vh - 70px); }
        .panel-content p { font-size: 13px; color: #666; margin-bottom: 6px; }
        .btn { display: block; background: #1a472a; color: white; text-align: center; padding: 12px; border-radius: 8px; text-decoration: none; font-size: 13px; margin-top: 12px; }
        .layer-toggle { display: flex; gap: 5px; margin-top: 10px; }
        .layer-btn { flex: 1; padding: 8px; border: 1px solid #ddd; background: white; border-radius: 6px; font-size: 12px; cursor: pointer; }
        .layer-btn.active { background: #1a472a; color: white; border-color: #1a472a; }
        .distance-marker { background: #FF5722; color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 20px; font-size: 9px; font-weight: bold; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        .start-marker { background: #4CAF50; width: 24px; height: 24px; line-height: 24px; }
        .end-marker { background: #f44336; width: 24px; height: 24px; line-height: 24px; }
        @media (min-width: 600px) {
            .info-panel { top: 60px; bottom: auto; left: auto; right: 15px; width: 280px; border-radius: 12px; max-height: calc(100vh - 80px); }
            .info-panel.collapsed { transform: translateY(0); }
            .info-panel.collapsed .panel-content { display: none; }
            .panel-handle { display: none; }
        }
    </style>
<script src="/gate.js"></script>
</head>
<body>
    <div class="header-bar">
        <a href="../../">‚Üê Back</a>
        <a href="../../"><h1>üõ∂ Indy's First Solo Trip üêï</h1></a>
        <span style="width:40px"></span>
    </div>
    <div id="map"></div>
    <div class="info-panel" id="infoPanel">
        <div class="panel-handle" onclick="togglePanel()"></div>
        <div class="panel-header"><h2>Route Details</h2><button class="toggle-btn" onclick="togglePanel()">‚àí</button></div>
        <div class="panel-content">
            <p><strong>Distance:</strong> 26 km</p>
            <p><strong>Region:</strong> Ontario</p>
            <p><strong>Date:</strong> Aug 2022</p>
            
            <a href="route.gpx" download class="btn">üì• Download GPX</a>
            <div class="layer-toggle">
                <button class="layer-btn active" data-layer="topo">Topo</button>
                <button class="layer-btn" data-layer="satellite">Satellite</button>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const routeCoords = [[45.644821,-80.40025],[45.644867,-80.400207],[45.645321,-80.399451],[45.645385,-80.398633],[45.645616,-80.397844],[45.645634,-80.397217],[45.645624,-80.396753],[45.645704,-80.396408],[45.645621,-80.395743],[45.645557,-80.395154],[45.645722,-80.394354],[45.645724,-80.393919],[45.645726,-80.393407],[45.645771,-80.392812],[45.645854,-80.392271],[45.645975,-80.391265],[45.646013,-80.390739],[45.6461,-80.390162],[45.646071,-80.389966],[45.64607,-80.389511],[45.646232,-80.388958],[45.646373,-80.387945],[45.646397,-80.387165],[45.646442,-80.386686],[45.646522,-80.385382],[45.646575,-80.384349],[45.646601,-80.383253],[45.646599,-80.382583],[45.646517,-80.38162],[45.646368,-80.381161],[45.646515,-80.380367],[45.646618,-80.379269],[45.646532,-80.378596],[45.646366,-80.378115],[45.646183,-80.377575],[45.646172,-80.377356],[45.646162,-80.376669],[45.646036,-80.376131],[45.645845,-80.375407],[45.645739,-80.374334],[45.645653,-80.374086],[45.645544,-80.373429],[45.645378,-80.372512],[45.64534,-80.371839],[45.64534,-80.371276],[45.645211,-80.370592],[45.644961,-80.369729],[45.64475,-80.369092],[45.644752,-80.368558],[45.644891,-80.368063],[45.644758,-80.367019],[45.64455,-80.365969],[45.644387,-80.36509],[45.644433,-80.36442],[45.644466,-80.363687],[45.644484,-80.363025],[45.64453,-80.362011],[45.644495,-80.360711],[45.644489,-80.360354],[45.644468,-80.359161],[45.644503,-80.358285],[45.644404,-80.357191],[45.64434,-80.355904],[45.644345,-80.354477],[45.644383,-80.352892],[45.644358,-80.351129],[45.644289,-80.349443],[45.644236,-80.348253],[45.644183,-80.346604],[45.64413,-80.345452],[45.643955,-80.343889],[45.643645,-80.343039],[45.643495,-80.342234],[45.643523,-80.341201],[45.643567,-80.339974],[45.643622,-80.338688],[45.643559,-80.337688],[45.643456,-80.336298],[45.643427,-80.334795],[45.643474,-80.333579],[45.643363,-80.33251],[45.643186,-80.331561],[45.642993,-80.330351],[45.64287,-80.32965],[45.642805,-80.329049],[45.642785,-80.328164],[45.642684,-80.326886],[45.642517,-80.325839],[45.642364,-80.324546],[45.642242,-80.323494],[45.642075,-80.321942],[45.641783,-80.320466],[45.641465,-80.319241],[45.641232,-80.318436],[45.640909,-80.317209],[45.640731,-80.316236],[45.64066,-80.3158],[45.640521,-80.315009],[45.640478,-80.313998],[45.640413,-80.313267],[45.640411,-80.312987],[45.640555,-80.31273],[45.641148,-80.312778],[45.641688,-80.312906],[45.642539,-80.313026],[45.643567,-80.313383],[45.644497,-80.313734],[45.644712,-80.313378],[45.644703,-80.31347],[45.644692,-80.313358],[45.644674,-80.31338],[45.644686,-80.313414],[45.644958,-80.31319],[45.64538,-80.312798],[45.645689,-80.312621],[45.64585,-80.312159],[45.645965,-80.311977],[45.646008,-80.311939],[45.646,-80.311929],[45.646005,-80.311911],[45.646001,-80.31191],[45.645938,-80.311891],[45.646179,-80.311671],[45.646249,-80.311544],[45.646068,-80.311732],[45.645908,-80.311922],[45.646153,-80.311668],[45.646308,-80.311463],[45.646502,-80.311255],[45.646821,-80.310971],[45.647016,-80.310571],[45.647121,-80.310533],[45.647337,-80.310406],[45.647449,-80.309935],[45.647571,-80.309656],[45.647714,-80.309419],[45.647739,-80.309301],[45.647675,-80.309332],[45.647641,-80.309325],[45.64764,-80.309326],[45.647676,-80.309301],[45.647824,-80.308996],[45.647969,-80.308421],[45.648086,-80.308131],[45.648213,-80.307329],[45.648055,-80.306496],[45.647758,-80.306119],[45.647494,-80.305084],[45.647192,-80.304392],[45.646543,-80.304393],[45.646796,-80.303545],[45.6471,-80.302586],[45.647642,-80.301495],[45.647816,-80.300705],[45.647617,-80.299531],[45.647078,-80.299076],[45.646623,-80.298642],[45.64736,-80.298739],[45.647914,-80.298865],[45.648019,-80.298802],[45.648188,-80.298531],[45.648175,-80.298331],[45.648266,-80.29788],[45.648265,-80.297569],[45.648349,-80.297079],[45.648363,-80.296718],[45.64836,-80.296407],[45.648389,-80.296008],[45.648273,-80.29571],[45.648248,-80.29561],[45.648177,-80.295694],[45.648081,-80.295519],[45.648002,-80.29533],[45.648051,-80.295261],[45.647981,-80.295126],[45.647934,-80.295437],[45.648063,-80.29563],[45.648193,-80.295838],[45.648297,-80.295991],[45.648303,-80.29624],[45.648317,-80.29679],[45.648285,-80.297173],[45.648243,-80.297521],[45.648227,-80.297841],[45.648167,-80.298063],[45.648097,-80.298393],[45.647991,-80.298562],[45.647772,-80.29842],[45.64778,-80.298305],[45.647807,-80.29859],[45.647946,-80.298736],[45.647975,-80.298761],[45.647941,-80.298755],[45.647844,-80.298801],[45.647954,-80.298783],[45.648002,-80.298747],[45.64825,-80.29846],[45.648285,-80.298115],[45.648302,-80.297802],[45.648312,-80.297442],[45.648396,-80.297101],[45.64842,-80.296778],[45.648389,-80.296461],[45.648386,-80.296067],[45.648272,-80.295839],[45.64801,-80.295442],[45.64798,-80.295136],[45.64803,-80.294988],[45.648017,-80.294981],[45.648028,-80.294951],[45.648044,-80.29418],[45.647819,-80.293695],[45.647717,-80.293561],[45.647581,-80.29353],[45.647583,-80.292788],[45.647549,-80.291737],[45.647456,-80.290602],[45.647671,-80.289674],[45.647675,-80.289003],[45.647672,-80.288212],[45.64753,-80.287307],[45.647364,-80.286853],[45.647202,-80.286958],[45.647048,-80.286756],[45.647133,-80.28625],[45.647162,-80.286048],[45.6472,-80.286087],[45.647237,-80.286125],[45.647275,-80.286164],[45.647313,-80.286202],[45.64735,-80.286241],[45.647388,-80.28628],[45.647426,-80.286318],[45.647463,-80.286357],[45.647501,-80.286395],[45.647538,-80.286434],[45.64754,-80.286399],[45.647538,-80.286056],[45.647551,-80.285695],[45.647451,-80.285619],[45.647391,-80.285455],[45.647267,-80.28534],[45.647252,-80.285513],[45.647249,-80.285468],[45.647246,-80.285407],[45.647133,-80.285242],[45.64671,-80.284742],[45.6465,-80.284553],[45.646429,-80.284419],[45.646084,-80.284028],[45.645713,-80.283639],[45.645329,-80.283172],[45.644766,-80.282813],[45.64428,-80.282323],[45.644078,-80.281945],[45.643974,-80.281824],[45.643432,-80.281737],[45.642945,-80.281528],[45.642525,-80.281419],[45.642139,-80.281247],[45.641951,-80.28131],[45.641661,-80.28167],[45.641187,-80.282133],[45.640745,-80.28239],[45.64036,-80.2826],[45.640356,-80.282722],[45.640191,-80.282593],[45.639664,-80.282625],[45.63956,-80.282429],[45.639558,-80.282438],[45.639562,-80.28241],[45.639554,-80.282419],[45.639537,-80.282427],[45.639535,-80.282425],[45.63946,-80.282011],[45.639299,-80.281749],[45.639159,-80.281648],[45.639222,-80.28167],[45.639427,-80.282165],[45.639471,-80.282449],[45.639205,-80.281823],[45.63918,-80.281566],[45.638717,-80.281099],[45.638634,-80.281029],[45.638245,-80.280649],[45.637456,-80.281264],[45.637146,-80.281678],[45.636818,-80.282614],[45.636759,-80.283526],[45.636779,-80.284275],[45.63678,-80.285407],[45.636833,-80.286235],[45.636884,-80.286795],[45.637088,-80.287678],[45.637013,-80.288693],[45.637051,-80.289422],[45.636969,-80.290202],[45.6365,-80.290674],[45.636208,-80.291002],[45.635866,-80.291616],[45.635448,-80.292426],[45.635278,-80.292632],[45.635231,-80.292651],[45.635133,-80.292683],[45.634993,-80.292846],[45.634717,-80.293244],[45.634479,-80.293334],[45.634166,-80.293476],[45.633962,-80.293541],[45.633865,-80.293556],[45.633653,-80.293602],[45.63329,-80.293655],[45.63302,-80.293413],[45.632963,-80.293513],[45.633175,-80.293624],[45.633343,-80.293768],[45.633613,-80.293691],[45.633879,-80.293619],[45.63395,-80.293579],[45.634214,-80.293623],[45.634524,-80.293285],[45.634733,-80.29298],[45.635133,-80.292878],[45.635257,-80.292713],[45.635215,-80.29259],[45.635022,-80.292782],[45.634804,-80.292889],[45.634656,-80.292935],[45.634676,-80.293166],[45.634487,-80.293281],[45.634359,-80.293416],[45.634131,-80.293428],[45.633918,-80.29343],[45.633865,-80.293436],[45.633541,-80.293579],[45.633316,-80.293513],[45.633106,-80.29347],[45.633029,-80.293402],[45.633002,-80.293484],[45.632998,-80.293597],[45.632998,-80.293597],[45.632881,-80.293552],[45.63282,-80.29355],[45.632888,-80.293584],[45.632862,-80.293621],[45.632847,-80.293481],[45.632846,-80.293478],[45.632846,-80.293478],[45.632846,-80.293478],[45.632417,-80.294119],[45.632527,-80.294031],[45.632352,-80.293998],[45.632293,-80.293944],[45.632513,-80.294067],[45.632551,-80.293971],[45.632551,-80.293971],[45.632999,-80.293437],[45.632967,-80.293559],[45.633013,-80.293506],[45.633035,-80.293474],[45.633186,-80.293638],[45.63328,-80.29363],[45.633213,-80.29368],[45.633227,-80.293668],[45.633264,-80.293655],[45.633219,-80.29366],[45.633247,-80.293633],[45.633219,-80.293596],[45.633247,-80.293571],[45.633101,-80.293499],[45.633032,-80.293463],[45.633051,-80.293485],[45.633095,-80.293525],[45.633031,-80.293516],[45.633098,-80.293586],[45.63314,-80.293495],[45.633037,-80.293409],[45.633098,-80.293439],[45.632989,-80.293488],[45.633005,-80.293497],[45.633014,-80.293456],[45.633047,-80.293516],[45.632927,-80.293413],[45.633012,-80.293488],[45.634668,-80.293129],[45.634664,-80.293351],[45.634736,-80.293148],[45.63499,-80.293149],[45.635242,-80.292928],[45.63527,-80.292832],[45.635287,-80.292782],[45.635341,-80.2928],[45.635372,-80.2928],[45.636109,-80.292872],[45.636682,-80.293123],[45.636906,-80.294101],[45.636761,-80.295353],[45.636612,-80.29659],[45.636511,-80.298075],[45.636187,-80.299407],[45.636061,-80.299633],[45.63619,-80.300292],[45.636497,-80.301057],[45.636798,-80.302078],[45.637006,-80.302918],[45.637437,-80.304087],[45.637838,-80.305123],[45.638206,-80.305887],[45.63883,-80.306916],[45.639265,-80.307836],[45.639839,-80.309261],[45.639933,-80.310077],[45.639992,-80.310767],[45.640216,-80.311904],[45.640488,-80.312917],[45.640621,-80.313225],[45.640692,-80.314356],[45.640959,-80.315726],[45.641113,-80.316608],[45.641332,-80.317592],[45.641696,-80.318587],[45.642017,-80.319594],[45.642279,-80.320739],[45.642501,-80.321906],[45.642516,-80.322149],[45.642674,-80.322884],[45.642824,-80.323784],[45.642982,-80.324889],[45.643067,-80.325595],[45.643233,-80.32691],[45.64339,-80.328125],[45.64351,-80.329533],[45.643568,-80.330766],[45.643706,-80.331757],[45.643776,-80.332716],[45.643805,-80.333768],[45.643783,-80.334645],[45.643738,-80.335022],[45.643752,-80.336165],[45.643894,-80.337402],[45.643999,-80.338216],[45.644084,-80.339341],[45.64422,-80.340683],[45.644328,-80.341369],[45.644433,-80.342189],[45.644528,-80.343347],[45.644557,-80.344213],[45.644611,-80.345193],[45.644673,-80.346612],[45.644825,-80.347981],[45.645062,-80.349025],[45.645133,-80.349897],[45.645235,-80.350709],[45.645285,-80.351474],[45.645386,-80.352595],[45.645428,-80.353185],[45.645423,-80.353467],[45.645409,-80.354279],[45.645361,-80.355261],[45.645332,-80.35664],[45.645226,-80.35722],[45.645194,-80.357685],[45.645074,-80.358923],[45.645038,-80.359875],[45.645024,-80.360818],[45.64503,-80.361536],[45.645035,-80.362118],[45.645187,-80.363011],[45.645314,-80.364037],[45.645392,-80.364968],[45.645449,-80.365808],[45.64575,-80.366327],[45.645911,-80.36633],[45.64621,-80.36681],[45.646352,-80.366867],[45.645961,-80.3668],[45.645822,-80.367651],[45.645752,-80.368621],[45.645828,-80.369093],[45.645826,-80.369666],[45.645815,-80.370128],[45.645842,-80.370073],[45.645828,-80.369906],[45.64584,-80.369739],[45.645845,-80.369514],[45.645811,-80.370096],[45.645759,-80.371172],[45.646004,-80.372343],[45.646073,-80.373293],[45.646135,-80.374134],[45.646241,-80.375383],[45.646364,-80.376451],[45.6465,-80.377462],[45.646531,-80.378083],[45.64665,-80.379397],[45.646687,-80.38036],[45.646852,-80.381313],[45.646923,-80.38192],[45.646984,-80.382994],[45.647055,-80.384364],[45.647178,-80.385488],[45.647114,-80.386801],[45.647158,-80.387389],[45.647232,-80.388759],[45.647084,-80.389939],[45.646763,-80.391205],[45.646746,-80.3918],[45.647061,-80.39286],[45.64663,-80.393837],[45.646435,-80.39466],[45.646129,-80.395674],[45.645858,-80.396916],[45.645607,-80.398272],[45.645381,-80.399378],[45.645232,-80.399885],[45.64505,-80.399993],[45.644923,-80.400194],[45.644441,-80.400495],[45.644287,-80.400537],[45.644263,-80.400505],[45.644091,-80.400513],[45.644128,-80.400574],[45.644328,-80.400568],[45.644246,-80.400561],[45.644096,-80.400534],[45.644143,-80.40062],[45.644201,-80.400643],[45.644283,-80.400603],[45.644248,-80.400589],[45.644114,-80.400558],[45.64411,-80.400566],[45.644222,-80.400545],[45.644266,-80.400375],[45.644414,-80.400187],[45.644307,-80.400271],[45.644192,-80.400174],[45.644226,-80.400442],[45.644234,-80.400621]];
        const waypoints = [{"lat":45.644821,"lng":-80.40025,"label":"Start","type":"start"},{"lat":45.648086,"lng":-80.295075,"label":"10"},{"lat":45.640142,"lng":-80.311659,"label":"20"},{"lat":45.644234,"lng":-80.400621,"label":"End","type":"end"}];
        const cyclosm = L.tileLayer('https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png', {subdomains: 'abc', maxZoom: 20});
        const topo = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {maxZoom: 17});
        const satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {maxZoom: 18});
        const layers = {cyclosm, topo, satellite};
        let currentLayer = 'topo';
        const map = L.map('map', {center: [45.640356499999996, -80.34064599999999], zoom: 12, layers: [topo], zoomControl: false});
        L.control.zoom({position: 'topleft'}).addTo(map);
        const routeLine = L.polyline(routeCoords, {color: '#FF5722', weight: 4, opacity: 0.8}).addTo(map);
        map.fitBounds(routeLine.getBounds().pad(0.1));
        waypoints.forEach(wp => {
            let cls = 'distance-marker';
            if (wp.type === 'start') cls += ' start-marker';
            if (wp.type === 'end') cls += ' end-marker';
            const icon = L.divIcon({className: '', html: '<div class="'+cls+'">'+(wp.type === 'start' ? '‚ñ∂' : wp.type === 'end' ? '‚óº' : wp.label)+'</div>', iconSize: [20,20], iconAnchor: [10,10]});
            L.marker([wp.lat, wp.lng], {icon}).addTo(map);
        });
        document.querySelectorAll('.layer-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.layer-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                map.removeLayer(layers[currentLayer]);
                layers[btn.dataset.layer].addTo(map);
                currentLayer = btn.dataset.layer;
            });
        });
        function togglePanel() { document.getElementById('infoPanel').classList.toggle('collapsed'); }
        if (window.innerWidth < 600) document.getElementById('infoPanel').classList.add('collapsed');
    </script>
</body>
</html>